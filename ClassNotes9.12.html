<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Adam Kaderbhai">

<title>ClassNotes9.12</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="ClassNotes9.12_files/libs/clipboard/clipboard.min.js"></script>
<script src="ClassNotes9.12_files/libs/quarto-html/quarto.js"></script>
<script src="ClassNotes9.12_files/libs/quarto-html/popper.min.js"></script>
<script src="ClassNotes9.12_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ClassNotes9.12_files/libs/quarto-html/anchor.min.js"></script>
<link href="ClassNotes9.12_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ClassNotes9.12_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ClassNotes9.12_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ClassNotes9.12_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ClassNotes9.12_files/libs/bootstrap/bootstrap-c0367b04c37547644fece4185067e4a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ClassNotes9.12</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Adam Kaderbhai </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="subsetting-data-sets" class="level2">
<h2 class="anchored" data-anchor-id="subsetting-data-sets">Subsetting data sets</h2>
<p>We Subset rows in a data set using the <code>filter</code> command, which loads with <code>tidyverse</code>. Let’s see this using <code>penguins</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 344
Columns: 8
$ species     &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Ad…
$ island      &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, Tor…
$ bill_len    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0, …
$ bill_dep    &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, 20.2, …
$ flipper_len &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186, 180,…
$ body_mass   &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, 4250, …
$ sex         &lt;fct&gt; male, female, female, NA, female, male, female, male, NA, …
$ year        &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…</code></pre>
</div>
</div>
<p>A set with just adelies:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(penguins,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>       species <span class="sc">==</span> <span class="st">"Adelie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    species    island bill_len bill_dep flipper_len body_mass    sex year
1    Adelie Torgersen     39.1     18.7         181      3750   male 2007
2    Adelie Torgersen     39.5     17.4         186      3800 female 2007
3    Adelie Torgersen     40.3     18.0         195      3250 female 2007
4    Adelie Torgersen       NA       NA          NA        NA   &lt;NA&gt; 2007
5    Adelie Torgersen     36.7     19.3         193      3450 female 2007
6    Adelie Torgersen     39.3     20.6         190      3650   male 2007
7    Adelie Torgersen     38.9     17.8         181      3625 female 2007
8    Adelie Torgersen     39.2     19.6         195      4675   male 2007
9    Adelie Torgersen     34.1     18.1         193      3475   &lt;NA&gt; 2007
10   Adelie Torgersen     42.0     20.2         190      4250   &lt;NA&gt; 2007
11   Adelie Torgersen     37.8     17.1         186      3300   &lt;NA&gt; 2007
12   Adelie Torgersen     37.8     17.3         180      3700   &lt;NA&gt; 2007
13   Adelie Torgersen     41.1     17.6         182      3200 female 2007
14   Adelie Torgersen     38.6     21.2         191      3800   male 2007
15   Adelie Torgersen     34.6     21.1         198      4400   male 2007
16   Adelie Torgersen     36.6     17.8         185      3700 female 2007
17   Adelie Torgersen     38.7     19.0         195      3450 female 2007
18   Adelie Torgersen     42.5     20.7         197      4500   male 2007
19   Adelie Torgersen     34.4     18.4         184      3325 female 2007
20   Adelie Torgersen     46.0     21.5         194      4200   male 2007
21   Adelie    Biscoe     37.8     18.3         174      3400 female 2007
22   Adelie    Biscoe     37.7     18.7         180      3600   male 2007
23   Adelie    Biscoe     35.9     19.2         189      3800 female 2007
24   Adelie    Biscoe     38.2     18.1         185      3950   male 2007
25   Adelie    Biscoe     38.8     17.2         180      3800   male 2007
26   Adelie    Biscoe     35.3     18.9         187      3800 female 2007
27   Adelie    Biscoe     40.6     18.6         183      3550   male 2007
28   Adelie    Biscoe     40.5     17.9         187      3200 female 2007
29   Adelie    Biscoe     37.9     18.6         172      3150 female 2007
30   Adelie    Biscoe     40.5     18.9         180      3950   male 2007
31   Adelie     Dream     39.5     16.7         178      3250 female 2007
32   Adelie     Dream     37.2     18.1         178      3900   male 2007
33   Adelie     Dream     39.5     17.8         188      3300 female 2007
34   Adelie     Dream     40.9     18.9         184      3900   male 2007
35   Adelie     Dream     36.4     17.0         195      3325 female 2007
36   Adelie     Dream     39.2     21.1         196      4150   male 2007
37   Adelie     Dream     38.8     20.0         190      3950   male 2007
38   Adelie     Dream     42.2     18.5         180      3550 female 2007
39   Adelie     Dream     37.6     19.3         181      3300 female 2007
40   Adelie     Dream     39.8     19.1         184      4650   male 2007
41   Adelie     Dream     36.5     18.0         182      3150 female 2007
42   Adelie     Dream     40.8     18.4         195      3900   male 2007
43   Adelie     Dream     36.0     18.5         186      3100 female 2007
44   Adelie     Dream     44.1     19.7         196      4400   male 2007
45   Adelie     Dream     37.0     16.9         185      3000 female 2007
46   Adelie     Dream     39.6     18.8         190      4600   male 2007
47   Adelie     Dream     41.1     19.0         182      3425   male 2007
48   Adelie     Dream     37.5     18.9         179      2975   &lt;NA&gt; 2007
49   Adelie     Dream     36.0     17.9         190      3450 female 2007
50   Adelie     Dream     42.3     21.2         191      4150   male 2007
51   Adelie    Biscoe     39.6     17.7         186      3500 female 2008
52   Adelie    Biscoe     40.1     18.9         188      4300   male 2008
53   Adelie    Biscoe     35.0     17.9         190      3450 female 2008
54   Adelie    Biscoe     42.0     19.5         200      4050   male 2008
55   Adelie    Biscoe     34.5     18.1         187      2900 female 2008
56   Adelie    Biscoe     41.4     18.6         191      3700   male 2008
57   Adelie    Biscoe     39.0     17.5         186      3550 female 2008
58   Adelie    Biscoe     40.6     18.8         193      3800   male 2008
59   Adelie    Biscoe     36.5     16.6         181      2850 female 2008
60   Adelie    Biscoe     37.6     19.1         194      3750   male 2008
61   Adelie    Biscoe     35.7     16.9         185      3150 female 2008
62   Adelie    Biscoe     41.3     21.1         195      4400   male 2008
63   Adelie    Biscoe     37.6     17.0         185      3600 female 2008
64   Adelie    Biscoe     41.1     18.2         192      4050   male 2008
65   Adelie    Biscoe     36.4     17.1         184      2850 female 2008
66   Adelie    Biscoe     41.6     18.0         192      3950   male 2008
67   Adelie    Biscoe     35.5     16.2         195      3350 female 2008
68   Adelie    Biscoe     41.1     19.1         188      4100   male 2008
69   Adelie Torgersen     35.9     16.6         190      3050 female 2008
70   Adelie Torgersen     41.8     19.4         198      4450   male 2008
71   Adelie Torgersen     33.5     19.0         190      3600 female 2008
72   Adelie Torgersen     39.7     18.4         190      3900   male 2008
73   Adelie Torgersen     39.6     17.2         196      3550 female 2008
74   Adelie Torgersen     45.8     18.9         197      4150   male 2008
75   Adelie Torgersen     35.5     17.5         190      3700 female 2008
76   Adelie Torgersen     42.8     18.5         195      4250   male 2008
77   Adelie Torgersen     40.9     16.8         191      3700 female 2008
78   Adelie Torgersen     37.2     19.4         184      3900   male 2008
79   Adelie Torgersen     36.2     16.1         187      3550 female 2008
80   Adelie Torgersen     42.1     19.1         195      4000   male 2008
81   Adelie Torgersen     34.6     17.2         189      3200 female 2008
82   Adelie Torgersen     42.9     17.6         196      4700   male 2008
83   Adelie Torgersen     36.7     18.8         187      3800 female 2008
84   Adelie Torgersen     35.1     19.4         193      4200   male 2008
85   Adelie     Dream     37.3     17.8         191      3350 female 2008
86   Adelie     Dream     41.3     20.3         194      3550   male 2008
87   Adelie     Dream     36.3     19.5         190      3800   male 2008
88   Adelie     Dream     36.9     18.6         189      3500 female 2008
89   Adelie     Dream     38.3     19.2         189      3950   male 2008
90   Adelie     Dream     38.9     18.8         190      3600 female 2008
91   Adelie     Dream     35.7     18.0         202      3550 female 2008
92   Adelie     Dream     41.1     18.1         205      4300   male 2008
93   Adelie     Dream     34.0     17.1         185      3400 female 2008
94   Adelie     Dream     39.6     18.1         186      4450   male 2008
95   Adelie     Dream     36.2     17.3         187      3300 female 2008
96   Adelie     Dream     40.8     18.9         208      4300   male 2008
97   Adelie     Dream     38.1     18.6         190      3700 female 2008
98   Adelie     Dream     40.3     18.5         196      4350   male 2008
99   Adelie     Dream     33.1     16.1         178      2900 female 2008
100  Adelie     Dream     43.2     18.5         192      4100   male 2008
101  Adelie    Biscoe     35.0     17.9         192      3725 female 2009
102  Adelie    Biscoe     41.0     20.0         203      4725   male 2009
103  Adelie    Biscoe     37.7     16.0         183      3075 female 2009
104  Adelie    Biscoe     37.8     20.0         190      4250   male 2009
105  Adelie    Biscoe     37.9     18.6         193      2925 female 2009
106  Adelie    Biscoe     39.7     18.9         184      3550   male 2009
107  Adelie    Biscoe     38.6     17.2         199      3750 female 2009
108  Adelie    Biscoe     38.2     20.0         190      3900   male 2009
109  Adelie    Biscoe     38.1     17.0         181      3175 female 2009
110  Adelie    Biscoe     43.2     19.0         197      4775   male 2009
111  Adelie    Biscoe     38.1     16.5         198      3825 female 2009
112  Adelie    Biscoe     45.6     20.3         191      4600   male 2009
113  Adelie    Biscoe     39.7     17.7         193      3200 female 2009
114  Adelie    Biscoe     42.2     19.5         197      4275   male 2009
115  Adelie    Biscoe     39.6     20.7         191      3900 female 2009
116  Adelie    Biscoe     42.7     18.3         196      4075   male 2009
117  Adelie Torgersen     38.6     17.0         188      2900 female 2009
118  Adelie Torgersen     37.3     20.5         199      3775   male 2009
119  Adelie Torgersen     35.7     17.0         189      3350 female 2009
120  Adelie Torgersen     41.1     18.6         189      3325   male 2009
121  Adelie Torgersen     36.2     17.2         187      3150 female 2009
122  Adelie Torgersen     37.7     19.8         198      3500   male 2009
123  Adelie Torgersen     40.2     17.0         176      3450 female 2009
124  Adelie Torgersen     41.4     18.5         202      3875   male 2009
125  Adelie Torgersen     35.2     15.9         186      3050 female 2009
126  Adelie Torgersen     40.6     19.0         199      4000   male 2009
127  Adelie Torgersen     38.8     17.6         191      3275 female 2009
128  Adelie Torgersen     41.5     18.3         195      4300   male 2009
129  Adelie Torgersen     39.0     17.1         191      3050 female 2009
130  Adelie Torgersen     44.1     18.0         210      4000   male 2009
131  Adelie Torgersen     38.5     17.9         190      3325 female 2009
132  Adelie Torgersen     43.1     19.2         197      3500   male 2009
133  Adelie     Dream     36.8     18.5         193      3500 female 2009
134  Adelie     Dream     37.5     18.5         199      4475   male 2009
135  Adelie     Dream     38.1     17.6         187      3425 female 2009
136  Adelie     Dream     41.1     17.5         190      3900   male 2009
137  Adelie     Dream     35.6     17.5         191      3175 female 2009
138  Adelie     Dream     40.2     20.1         200      3975   male 2009
139  Adelie     Dream     37.0     16.5         185      3400 female 2009
140  Adelie     Dream     39.7     17.9         193      4250   male 2009
141  Adelie     Dream     40.2     17.1         193      3400 female 2009
142  Adelie     Dream     40.6     17.2         187      3475   male 2009
143  Adelie     Dream     32.1     15.5         188      3050 female 2009
144  Adelie     Dream     40.7     17.0         190      3725   male 2009
145  Adelie     Dream     37.3     16.8         192      3000 female 2009
146  Adelie     Dream     39.0     18.7         185      3650   male 2009
147  Adelie     Dream     39.2     18.6         190      4250   male 2009
148  Adelie     Dream     36.6     18.4         184      3475 female 2009
149  Adelie     Dream     36.0     17.8         195      3450 female 2009
150  Adelie     Dream     37.8     18.1         193      3750   male 2009
151  Adelie     Dream     36.0     17.1         187      3700 female 2009
152  Adelie     Dream     41.5     18.5         201      4000   male 2009</code></pre>
</div>
</div>
<p>We can also filter numerically:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>penguins_sm <span class="ot">&lt;-</span> <span class="fu">filter</span>(penguins,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                      body_mass <span class="sc">&gt;</span> <span class="dv">3600</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(penguins_sm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 245
Columns: 8
$ species     &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Ad…
$ island      &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, Tor…
$ bill_len    &lt;dbl&gt; 39.1, 39.5, 39.3, 38.9, 39.2, 42.0, 37.8, 38.6, 34.6, 36.6…
$ bill_dep    &lt;dbl&gt; 18.7, 17.4, 20.6, 17.8, 19.6, 20.2, 17.3, 21.2, 21.1, 17.8…
$ flipper_len &lt;int&gt; 181, 186, 190, 181, 195, 190, 180, 191, 198, 185, 197, 194…
$ body_mass   &lt;int&gt; 3750, 3800, 3650, 3625, 4675, 4250, 3700, 3800, 4400, 3700…
$ sex         &lt;fct&gt; male, female, male, female, male, NA, NA, male, male, fema…
$ year        &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…</code></pre>
</div>
</div>
<p>Two conditions at once:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>penguins_sm <span class="ot">&lt;-</span> <span class="fu">filter</span>(penguins,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                      body_mass <span class="sc">&gt;</span> <span class="dv">3600</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                      species <span class="sc">==</span> <span class="st">"Adelie"</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(penguins_sm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 80
Columns: 8
$ species     &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Ad…
$ island      &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, Tor…
$ bill_len    &lt;dbl&gt; 39.1, 39.5, 39.3, 38.9, 39.2, 42.0, 37.8, 38.6, 34.6, 36.6…
$ bill_dep    &lt;dbl&gt; 18.7, 17.4, 20.6, 17.8, 19.6, 20.2, 17.3, 21.2, 21.1, 17.8…
$ flipper_len &lt;int&gt; 181, 186, 190, 181, 195, 190, 180, 191, 198, 185, 197, 194…
$ body_mass   &lt;int&gt; 3750, 3800, 3650, 3625, 4675, 4250, 3700, 3800, 4400, 3700…
$ sex         &lt;fct&gt; male, female, male, female, male, NA, NA, male, male, fema…
$ year        &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…</code></pre>
</div>
</div>
<p>One specie <strong>OR</strong> another:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>penguins_sm <span class="ot">&lt;-</span> <span class="fu">filter</span>(penguins,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                      species <span class="sc">==</span> <span class="st">"Adelie"</span> <span class="sc">|</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                        species <span class="sc">==</span> <span class="st">"Chinstrap"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(penguins_sm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 220
Columns: 8
$ species     &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Ad…
$ island      &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, Tor…
$ bill_len    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0, …
$ bill_dep    &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, 20.2, …
$ flipper_len &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186, 180,…
$ body_mass   &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, 4250, …
$ sex         &lt;fct&gt; male, female, female, NA, female, male, female, male, NA, …
$ year        &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>